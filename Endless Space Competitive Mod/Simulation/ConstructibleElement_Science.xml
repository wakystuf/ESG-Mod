<?xml version="1.0" encoding="utf-8" ?>
<Datatable xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xsi:noNamespaceSchemaLocation="../Schemas/ScienceConstructibleElement.xsd">
  <!-- Not an actual tech, just a prerequisite for things that should be disabled -->
  <TechnologyDefinition Name="TechnologyDefinitionUnlockable" Category="CategoryTechnologyQuest" Visibility="Hidden">
    <CustomCost ResourceName="EmpireResearch">0</CustomCost>
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
  </TechnologyDefinition>
  <!-- Terraformation 1 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8"/>
    <SimulationDescriptorReference Name="TechnologyLinkColonization8Common"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9Unfallen" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization8Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableDesertPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableDesertPlanets) *  1.5+ $(TurnVariable) * 20</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration9TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation1"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel2"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="AvailableMixedAnomaly"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable) + 10 * $(FoodPopulation) + 10 * $(AvailableMixedAnomaly) </HelperFormula>
  </TechnologyDefinition>

  <!-- Terraformation 2 -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation2"/>
    <SimulationDescriptorReference Name="TechnologyAnomalyReduction2"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration31" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTerraformation2"/>
    <SimulationDescriptorReference Name="TechnologyTerraformation2TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyAnomalyReduction2"/>
    <SimulationDescriptorReference Name="TechnologyScience6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>

    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(SciencePopulation) * 10</HelperFormula>
  </TechnologyDefinition>

  <!-- Remove Expanded Explorer Slots from T4 food tech -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration17" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration9To15'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFood6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>
    <HelperVariable Name="FoodPercent"/>
    <HelperVariable Name="OwnedPlanetsCount"/>
    <HelperVariable Name="FoodVariable"/>
    <HelperFormula> $(FoodPercent) * 10 + $(FoodVariable) * $(OwnedPlanetsCount) </HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration17Vampirilis" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration9To15'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis" Inverted="false">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFood6"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="FoodPercent"/>
    <HelperVariable Name="OwnedPlanetsCount"/>
    <HelperVariable Name="FoodVariable"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + $(FoodPercent) * 10 + $(FoodVariable) * $(OwnedPlanetsCount) </HelperFormula>
  </TechnologyDefinition>

  <!-- Add Expanded Explorer Slots to Machine Bacteria -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3"/>
    <SimulationDescriptorReference Name="TechnologyColonization3Vaulters"/>
    <SimulationDescriptorReference Name="TechnologyColonization3VaultersNoPortals"/>
    <SimulationDescriptorReference Name="TechnologyColonization3VaultersNoVaultersPopulation"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration25Unfallen" TechnologyStage="TechnologyStageDefinitionScienceAndExploration2" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration1To25'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonization3Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyExplorationModule1"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullSophons"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullCravers"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullMajorHisshos"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullLumeris"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnitedEmpire"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullHoratios"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUmbralChoir"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVaulters"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTemplars"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullVampirilis"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyImproveExplorerHullUnfallens"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="AvailableSteppesPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(AvailableSteppesPlanets) * 1 + $(TurnVariable) * 40</HelperFormula>
  </TechnologyDefinition>

  <!-- Add Innate T1 Cloaking for Explorers to Vaccuum Protection -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingUmbralChoir</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1Common"/>
    <SimulationDescriptorReference Name="TechnologyInnateExplorerCloaking"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26TimeLords" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTimeLords" Inverted="false">ClassEmpire,AffinityMappingTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyInnateExplorerCloaking"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>35 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration26UmbralChoir" TechnologyStage="TechnologyStageDefinitionScienceAndExploration3" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityUmbralChoir" Inverted="false">ClassEmpire,AffinityMappingUmbralChoir</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySupportModule1"/>
    <SimulationDescriptorReference Name="TechnologySupportModule1Common"/>
    <SimulationDescriptorReference Name="TechnologyInnateExplorerCloaking"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventScientistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>25 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Shield Regen -->
  <TechnologyDefinition Name="TechnologyDefinitionCuriosityModuleSupportShieldRegenerate2Strategic6"  TechnologyStage="TechnologyStageDefinitionScienceAndExploration1"    Visibility="Hidden" >
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyCuriosityModuleSupportShieldRegenerate2Strategic6"/>
  </TechnologyDefinition>

  <!-- Buyouts -->
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <Tags>BuyoutUnlock</Tags>
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">AffinityGameplayVenetians</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUniqueDust1"/>
    <SimulationDescriptorReference Name="TechnologyBuyout"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="TotalSystems"/>
    <HelperVariable Name="SumSystemLevels"/>
    <HelperVariable Name="ForeignPopulations"/>
    <HelperVariable Name="DustVariable"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(TurnVariable) * 10 +  (3 * $(ForeignPopulations) * $(DustVariable) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4Venetians" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <Tags>BuyoutUnlock</Tags>
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityVenetians">AffinityGameplayVenetians</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUniqueDust1"/>
    <SimulationDescriptorReference Name="TechnologyBuyoutVenetians"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="TotalSystems"/>
    <HelperVariable Name="SumSystemLevels"/>
    <HelperVariable Name="ForeignPopulations"/>
    <HelperVariable Name="DustVariable"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>$(TurnVariable) * 10 +  (3 * $(ForeignPopulations) * $(DustVariable) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade4TimeLords" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <Tags>BuyoutUnlock</Tags>
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityTimeLords">AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUniqueDust1TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyBuyout"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="TotalSystems"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="SumSystemLevels"/>
    <HelperVariable Name="DustPopulation"/>
    <HelperFormula>$(TurnVariable) * 10 +  (1 * $(DustPopulation) + $(SumSystemLevels) * 5) / Max($(TotalSystems),1)</HelperFormula>
  </TechnologyDefinition>

  <!-- Trade -->
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade5" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDust1" />
    <SimulationDescriptorReference Name="TechnologyDust1Alt" />
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology" />
    <HelperVariable Name="AvailableMeagerPlanets" />
    <HelperVariable Name="DustPopulation" />
    <HelperFormula>(1 * $(AvailableMeagerPlanets)) + 2 * $(DustPopulation)</HelperFormula>
  </TechnologyDefinition>
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade5Vampirilis" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade2" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis" Inverted="false">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDust1" />
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage2" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology" />
    <HelperVariable Name="DustPopulation" />
    <HelperFormula>5 * $(DustPopulation)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade9" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade3" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <AIGain RessourceName="Capability">
      <Tag>TechnologyTrade</Tag>
    </AIGain>
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEconomyAndTrade5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <SimulationDescriptorReference Name="TechnologyTrade1" />
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage3" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology" />
    <HelperVariable Name="TradeSubsidiaryVariable"/>
    <HelperVariable Name="TradeCompanyVariable"/>
    <HelperFormula>5 * $(TradeSubsidiaryVariable) + 2 * $(TradeCompanyVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade9Venetians" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade3" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <AIGain RessourceName="Capability">
      <Tag>TechnologyTrade</Tag>
    </AIGain>
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEconomyAndTrade5To9'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTrade1" />
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage3" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology" />
    <HelperVariable Name="TradeSubsidiaryVariable"/>
    <HelperVariable Name="TradeCompanyVariable"/>
    <HelperFormula>5 * $(TradeSubsidiaryVariable) + 2 * $(TradeCompanyVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- HyperPACs -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTemplars</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo17Common"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12Venetians"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Unfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17Unfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TimeLords" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TimeLords"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableOceanPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableOceanPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Terrans" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17Terrans"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TerransUnfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TerransUnfallen"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17TerransTimeLords" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityTerrans" Inverted="false">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Common"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyColonization10TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo17TerransTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableOceanPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>15 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableOceanPlanets)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment17Templars" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment3" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment5To17')))</CustomCost>
    <InterpreterPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">Path(Context,@'AffinityMappingTerrans') or Path(Context,@'AffinityMappingSheredyn') or Path(Context,@'AffinityMappingMezari')</InterpreterPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="false">ClassEmpire,AffinityGameplayTemplars</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacyFactionPact"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2Templars"  />
    <SimulationDescriptorReference Name="TechnologyElectionAction"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo17Common"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12Venetians"  />
    <SimulationDescriptorReference Name="TechnologyColonization10"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage3"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="HappinessVariable"/>
    <HelperVariable Name="AvailableSwampPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>10 * $(TurnVariable) * $(HappinessVariable) + 1 * $(AvailableSwampPlanets)</HelperFormula>
  </TechnologyDefinition>

  <!-- SLC -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment9" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <SimulationDescriptorReference Name="TechnologyUnlockPropaganda"  />
    <SimulationDescriptorReference Name="TechnologyInfluenceConversion"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="InfluenceVariable"/>
    <HelperFormula>30 * $(InfluenceVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Reveal Strategics -->
  <TechnologyDefinition Name="TechnologyDefinitionRevealStrategics" Category="CategoryTechnologyQuest" Visibility="Hidden">
    <CustomCost ResourceName="EmpireResearch">0</CustomCost>
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics2"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics3"/>
  </TechnologyDefinition>

  <!-- Science Tech Stages (no change to T1, T2, and T5, only included for load order in GUI) -->
  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration1" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="1">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration1"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration2" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="2">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration2"/>
    <UnlockCount UnlockCount="1" CountPropertyName="QuadrantScienceAndExplorationStage1UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration3" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="3">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration3"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics2"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="2" CountPropertyName="QuadrantScienceAndExplorationStage2UnlockedTechnologyCount">
      <AdditionalTechnologyUnlockCount Count="1">DLCHisshos</AdditionalTechnologyUnlockCount>
    </UnlockCount>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration4" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="4">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration4"/>
    <SimulationDescriptorReference Name="TechnologyRevealStrategics3"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="3" CountPropertyName="QuadrantScienceAndExplorationStage3UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>

  <TechnologyStageDefinition Name="TechnologyStageDefinitionScienceAndExploration5" TechnologyQuadrant="TechnologyQuadrantScienceAndExploration" StageNumber="5">
    <SimulationDescriptorReference Name="TechnologyStageScienceAndExploration5"/>
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage"/>
    <UnlockCount UnlockCount="4" CountPropertyName="QuadrantScienceAndExplorationStage4UnlockedTechnologyCount"/>
  </TechnologyStageDefinition>

  <!-- Econ & Trade Stages (no change to T1-4, only included for load order in GUI) -->
  <TechnologyStageDefinition Name="TechnologyStageDefinitionEconomyAndTrade1" TechnologyQuadrant="TechnologyQuadrantEconomyAndTrade" StageNumber="1">
    <SimulationDescriptorReference Name="TechnologyStageEconomyAndTrade1" />
  </TechnologyStageDefinition>
  <TechnologyStageDefinition Name="TechnologyStageDefinitionEconomyAndTrade2" TechnologyQuadrant="TechnologyQuadrantEconomyAndTrade" StageNumber="2">
    <SimulationDescriptorReference Name="TechnologyStageEconomyAndTrade2" />
    <UnlockCount UnlockCount="1" CountPropertyName="QuadrantEconomyAndTradeStage1UnlockedTechnologyCount" />
  </TechnologyStageDefinition>
  <TechnologyStageDefinition Name="TechnologyStageDefinitionEconomyAndTrade3" TechnologyQuadrant="TechnologyQuadrantEconomyAndTrade" StageNumber="3">
    <SimulationDescriptorReference Name="TechnologyStageEconomyAndTrade3" />
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage" />
    <UnlockCount UnlockCount="2" CountPropertyName="QuadrantEconomyAndTradeStage2UnlockedTechnologyCount" />
  </TechnologyStageDefinition>
  <TechnologyStageDefinition Name="TechnologyStageDefinitionEconomyAndTrade4" TechnologyQuadrant="TechnologyQuadrantEconomyAndTrade" StageNumber="4">
    <SimulationDescriptorReference Name="TechnologyStageEconomyAndTrade4" />
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage" />
    <UnlockCount UnlockCount="3" CountPropertyName="QuadrantEconomyAndTradeStage3UnlockedTechnologyCount">
      <AdditionalTechnologyUnlockCount Count="1">DLCHisshos</AdditionalTechnologyUnlockCount>
    </UnlockCount>
  </TechnologyStageDefinition>
  <TechnologyStageDefinition Name="TechnologyStageDefinitionEconomyAndTrade5" TechnologyQuadrant="TechnologyQuadrantEconomyAndTrade" StageNumber="5">
    <SimulationDescriptorReference Name="TechnologyStageEconomyAndTrade5" />
    <PopulationEvent Name="PopulationPoliticalEventUnlockStage" />
    <UnlockCount UnlockCount="4" CountPropertyName="QuadrantEconomyAndTradeStage4UnlockedTechnologyCount" />
  </TechnologyStageDefinition>

  <!--  Titanium Weapons  -->
  <TechnologyDefinition Name="TechnologyDefinitionMilitary8" TechnologyStage="TechnologyStageDefinitionMilitary3" Category="CategoryTechnologyMilitary" SubCategoryInQuests="TechnoMilitary" SubCategory="YoplaitFraise" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier)</CustomCost>
    <TechnologyPrerequisite Inverted="true" Flags="Prerequisite,Link,Disable">TechnologyLinkExclusionMilitary8Military9</TechnologyPrerequisite>
    <SimulationDescriptorReference Name="TechnologyWeaponModuleStrategic1"/>
    <SimulationDescriptorReference Name="TechnologyActionPoints"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 30 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <!--  Hyperium Weapons  -->
  <TechnologyDefinition Name="TechnologyDefinitionMilitary9" TechnologyStage="TechnologyStageDefinitionMilitary3" Category="CategoryTechnologyMilitary" SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier)</CustomCost>
    <TechnologyPrerequisite Inverted="true" Flags="Prerequisite,Link,Disable">TechnologyLinkExclusionMilitary8Military9</TechnologyPrerequisite>
    <SimulationDescriptorReference Name="TechnologyWeaponModuleStrategic2"/>
    <SimulationDescriptorReference Name="TechnologyActionPoints"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 30 +30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <!-- Deep Space Personnel -->
  <TechnologyDefinition Name="TechnologyDefinitionMilitary33" TechnologyStage="TechnologyStageDefinitionMilitary3" Category="CategoryTechnologyMilitary" SubCategoryInQuests="TechnoMilitary"  ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier)</CustomCost>
    <DownloadableContentPrerequisite Flags="Prerequisite,Discard">DLCVaulters</DownloadableContentPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPirateContractsSmall"/>
    <SimulationDescriptorReference Name="TechnologyWeaponModuleBoardingPod1"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo33Cravers"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo33Corsairs"/>
    <SimulationDescriptorReference Name="TechnologyDefenseModuleBoardingDefense1"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 20 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <!-- Deniable Operations -->
  <TechnologyDefinition Name="TechnologyDefinitionMilitary19" TechnologyStage="TechnologyStageDefinitionMilitary4" Category="CategoryTechnologyMilitary"  SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch, TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkMilitary33To19')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">ClassEmpire,AffinityMappingCravers</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPirateContractsMedium"/>
    <SimulationDescriptorReference Name="TechnologyPrivateers"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo19"/>
    <SimulationDescriptorReference Name="TechnologyPlayDeck7"/>
    <SimulationDescriptorReference Name="TechnologyShip2"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 15 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionMilitary19Corsairs" TechnologyStage="TechnologyStageDefinitionMilitary4" Category="CategoryTechnologyMilitary"  SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch, TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkMilitary33To19')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">ClassEmpire,AffinityMappingCravers</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="false">ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPirateContractsMedium"/>
    <SimulationDescriptorReference Name="TechnologyPrivateersCorsairs"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo19Corsairs"/>
    <SimulationDescriptorReference Name="TechnologyPlayDeck7"/>
    <SimulationDescriptorReference Name="TechnologyShip2"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 15 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionMilitary19Cravers" TechnologyStage="TechnologyStageDefinitionMilitary4" Category="CategoryTechnologyMilitary"  SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch, TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkMilitary33To19')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityCravers" Inverted="false">ClassEmpire,AffinityMappingCravers</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="true">ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPirateContractsMedium"/>
    <SimulationDescriptorReference Name="TechnologyPrivateers"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo19Cravers"/>
    <SimulationDescriptorReference Name="TechnologyPlayDeck7"/>
    <SimulationDescriptorReference Name="TechnologyShip2Cravers"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 20 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionMilitary19CraversCorsairs" TechnologyStage="TechnologyStageDefinitionMilitary4" Category="CategoryTechnologyMilitary"  SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantMilitaryMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch, TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkMilitary33To19')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction,AffinityCravers" Inverted="false">ClassEmpire,AffinityMappingCravers</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable" Inverted="false">ClassEmpire,FactionTraitCorsairs</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPirateContractsMedium"/>
    <SimulationDescriptorReference Name="TechnologyPrivateersCorsairs"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo19CraversCorsairs"/>
    <SimulationDescriptorReference Name="TechnologyPlayDeck7"/>
    <SimulationDescriptorReference Name="TechnologyShip2Cravers"/>
    <SimulationDescriptorReference Name="TechnologyMilitaryGameplay"/>
    <SimulationDescriptorReference Name="TechnologyCountMilitaryIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventMilitaristTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperVariable Name="EnemyEmpires"/>
    <HelperFormula>$(TurnVariable) * 20 + 30 * $(EnemyEmpires)</HelperFormula>
  </TechnologyDefinition>

  <!-- Adaptive Bureaucracies -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment5" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment2" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment1To5')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <PathPrerequisite Flags="DiplomaticTradable" Inverted="true">ClassEmpire,AffinityGameplayMajorHisshos</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy1"/>
    <SimulationDescriptorReference Name="TechnologyColonization12"/>
    <SimulationDescriptorReference Name="TechnologyColonization12Common"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo5Terrans"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperVariable Name="AvailableBarrenPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + 1 * $(AvailableBarrenPlanets)+  10  * $(MajorEmpiresDiplomacyVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment5Unfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment2" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment1To5')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyUnfallen" Inverted="false">ClassEmpire,AffinityGameplayUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy1"/>
    <SimulationDescriptorReference Name="TechnologyColonization12Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo5TerransUnfallen"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo5Unfallen"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperVariable Name="AvailableBarrenPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + 1 * $(AvailableBarrenPlanets)+  10  * $(MajorEmpiresDiplomacyVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment5TimeLords" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment2" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage2Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment1To5')))</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyTimeLords" Inverted="false">ClassEmpire,AffinityGameplayTimeLords</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacyAlliance"/>
    <SimulationDescriptorReference Name="TechnologyDiplomacy1"/>
    <SimulationDescriptorReference Name="TechnologyColonization12TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo5TerransTimeLords"/>
    <SimulationDescriptorReference Name="TechnologyLinkTo5TimeLords"/>
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage2"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperVariable Name="AvailableAtollPlanets"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>20 * $(TurnVariable) + 1 * $(AvailableAtollPlanets)+  10  * $(MajorEmpiresDiplomacyVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Perfect Negotiations -->
  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment12" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment17To12'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingVenetians</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy3Common"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromCommon"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromTerransTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromTerransUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12FromTerrans"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="InfluenceVariable"/>
    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperFormula>30 * $(MajorEmpiresDiplomacyVariable) + 20 * $(InfluenceVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment12Unfallen" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment17To12'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityUnfallen">ClassEmpire,AffinityMappingUnfallen</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy3Unfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12UnfallenFromUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12UnfallenFromCommon"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12UnfallenFromTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="InfluenceVariable"/>
    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperFormula>40 * $(MajorEmpiresDiplomacyVariable) + 20 * $(InfluenceVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEmpireDevelopment12Venetians" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEmpireDevelopment17To12'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityVenetians">ClassEmpire,AffinityMappingVenetians</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyDiplomacy2"  />
    <SimulationDescriptorReference Name="TechnologyDiplomacy3Venetians"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansFromUnfallen"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansFromCommon"  />
    <SimulationDescriptorReference Name="TechnologyLinkTo12VenetiansFromTimeLords"  />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4"   />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="InfluenceVariable"/>
    <HelperVariable Name="MajorEmpiresDiplomacyVariable"/>
    <HelperFormula>40 * $(MajorEmpiresDiplomacyVariable) + 20 * $(InfluenceVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Extreme Atmospherics -->
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade23" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade3" Category="CategoryTechnologyEconomyAndTrade" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage3Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyColonizationGasPlanetNonVampirilis"/>
    <SimulationDescriptorReference Name="TechnologyColonizationGasPlanet"/>
    <SimulationDescriptorReference Name="TechnologyStrategicDeposit4"/>
    <SimulationDescriptorReference Name="TechnologyIntraGasTerraformation"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage3"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventIndustrialistTechnology"/>

    <HelperVariable Name="AvailableDepositStrategic4"/>
    <HelperVariable Name="AvailableGasColonizationPlanets"/>
    <HelperVariable Name="PlanetsWithStrategic"/>
    <HelperFormula>5 * $(AvailableDepositStrategic4) + 1 * $(AvailableGasColonizationPlanets) + 2 * $(PlanetsWithStrategic)</HelperFormula>
  </TechnologyDefinition>

  <!-- Gamma Absorption -->
  <!-- Make separate vodyani version without intergasterraformation -->
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade15" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade4" Category="CategoryTechnologyEconomyAndTrade" SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFIDSI1"/>
    <SimulationDescriptorReference Name="TechnologyStrategicDeposit6"/>
    <SimulationDescriptorReference Name="TechnologyInterGasTerraformation"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventIndustrialistTechnology"/>

    <HelperVariable Name="AvailableDepositStrategic6"/>
    <HelperVariable Name="DustPopulation"/>
    <HelperVariable Name="IndustryPopulation"/>
    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="InfluencePopulation"/>
    <HelperFormula>$(AvailableDepositStrategic6) * 5 + 1 * $(DustPopulation) + 1 * $(IndustryPopulation) + 1 * $(SciencePopulation) + 1 * $(FoodPopulation) + 1 * $(InfluencePopulation)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade15Vampirilis" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade4" Category="CategoryTechnologyEconomyAndTrade" SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFIDSI1"/>
    <SimulationDescriptorReference Name="TechnologyStrategicDeposit6"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventIndustrialistTechnology"/>

    <HelperVariable Name="AvailableDepositStrategic6"/>
    <HelperVariable Name="DustPopulation"/>
    <HelperVariable Name="IndustryPopulation"/>
    <HelperVariable Name="SciencePopulation"/>
    <HelperVariable Name="FoodPopulation"/>
    <HelperVariable Name="InfluencePopulation"/>
    <HelperFormula>$(AvailableDepositStrategic6) * 5 + 1 * $(DustPopulation) + 1 * $(IndustryPopulation) + 1 * $(SciencePopulation) + 1 * $(FoodPopulation) + 1 * $(InfluencePopulation)</HelperFormula>
  </TechnologyDefinition>

  <!-- Fix vanilla bug with cost of Vaulter special tech -->
  <TechnologyDefinition Name="TechnologyDefinitionUnique10Vaulters" TechnologyStage="TechnologyStageDefinitionEmpireDevelopment4" Category="CategoryTechnologyEmpireDevelopment" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEmpireDevelopmentMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityVaulters">ClassEmpire,AffinityGameplayVaulters</PathPrerequisite>
    <DownloadableContentPrerequisite Flags="Prerequisite">DLCVaulters</DownloadableContentPrerequisite>
    <SimulationDescriptorReference Name="TechnologyPortalUpgradePacificConversion" />
    <SimulationDescriptorReference Name="TechnologyUnique10Vaulters" />
    <SimulationDescriptorReference Name="TechnologyCountEmpireDevelopmentIncreaseStage4" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology" />
    <HelperVariable Name="TurnVariable" />
    <HelperVariable Name="HappinessVariable" />
    <HelperFormula>40 * $(HappinessVariable) + 20 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Ultra-Deep Habitats -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration11" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration6To11'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUniqueScience1"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel3"/>
    <SimulationDescriptorReference Name="TechnologySizeDecreaseTerraformation"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="ScienceVariable"/>
    <HelperFormula>40 * $(TurnVariable) +  10  * $(ScienceVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration11Vampirilis" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration6To11'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis">AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyUniqueScience1"/>
    <SimulationDescriptorReference Name="TechnologyCuriosityLevel3"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="ScienceVariable"/>
    <HelperFormula>40 * $(TurnVariable) +  10  * $(ScienceVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- N-Dimensional Topology -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration14" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration8To14'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingVampirilis</PathPrerequisite>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityMappingVaulters</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFreeMovement2" />
    <SimulationDescriptorReference Name="TechnologyEngine4" />
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology" />
    <HelperVariable Name="TurnVariable" />
    <HelperFormula>20 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration14Vampirilis" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration8To14'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityVampirilis" Inverted="false">ClassEmpire,AffinityMappingVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFreeMovement2" />
    <SimulationDescriptorReference Name="TechnologyEngine4" />
    <SimulationDescriptorReference Name="TechnologyMovementVampirilis1" />
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4" />
    <SimulationDescriptorReference Name="TechnologyCounter" />
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology" />
    <HelperVariable Name="TurnVariable" />
    <HelperFormula>40 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration14Vaulters" TechnologyStage="TechnologyStageDefinitionScienceAndExploration4" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration8To14'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityVaulters" Inverted="false">ClassEmpire,AffinityMappingVaulters</PathPrerequisite>
    <DownloadableContentPrerequisite Flags="Prerequisite,Discard">DLCVaulters</DownloadableContentPrerequisite>
    <SimulationDescriptorReference Name="TechnologyFreeMovement2"/>
    <SimulationDescriptorReference Name="TechnologyEngine4Vaulters"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>
    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>40 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Ontological Rev-Eng -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration21" TechnologyStage="TechnologyStageDefinitionScienceAndExploration5" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage5Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard" Inverted="true">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologySizeIncreaseTerraformation"/>
    <SimulationDescriptorReference Name="TechnologyScience5"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage5"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>40 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration21Vampirilis" TechnologyStage="TechnologyStageDefinitionScienceAndExploration5" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage5Multiplier) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,DiplomaticTradable,Discard,Faction,AffinityGameplayTechnologyVampirilis" Inverted="false">ClassEmpire,AffinityGameplayVampirilis</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyArkModule7"/>
    <SimulationDescriptorReference Name="TechnologyScience5"/>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage5"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventReligiousTechnology"/>

    <HelperVariable Name="TurnVariable"/>
    <HelperFormula>70 * $(TurnVariable)</HelperFormula>
  </TechnologyDefinition>

  <!-- Advanced Non-Baryonics -->
  <TechnologyDefinition Name="TechnologyDefinitionScienceAndExploration23" TechnologyStage="TechnologyStageDefinitionScienceAndExploration5" Category="CategoryTechnologyScienceAndExploration" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage5Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkScienceAndExploration11To23'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantScienceAndExplorationMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyCountScienceAndExplorationIncreaseStage5"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventEcologistTechnology"/>

    <HelperVariable Name="EnemyEmpires"/>
    <HelperVariable Name="ScienceVariable"/>
    <HelperVariable Name="SciencePercent"/>
    <HelperFormula> $(ScienceVariable) * $(EnemyEmpires) * 5 +  $(SciencePercent) </HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionQuestUnitedEmpire10" TechnologyStage="TechnologyStageDefinitionMilitary1" Category="CategoryTechnologyMilitary" Visibility="Hidden">
    <CustomCost ResourceName="EmpireResearch">0</CustomCost>
    <PathPrerequisite Flags="DiplomaticTradable">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyQuestUnitedEmpire10"/>
    <SimulationDescriptorReference Name="TechnologyPlayDeckQuest01"/>
  </TechnologyDefinition>
  
  <!-- Galactic Security Charter -->
  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade12" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade4" Category="CategoryTechnologyEconomyAndTrade" SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEconomyAndTrade9To12'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <SimulationDescriptorReference Name="TechnologyTrade2"/>
    <SimulationDescriptorReference Name="TechnologyTrade2Common"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>

    <HelperVariable Name="TradeSubsidiaryVariable"/>
    <HelperFormula>5 * $(TradeSubsidiaryVariable)</HelperFormula>
  </TechnologyDefinition>

  <TechnologyDefinition Name="TechnologyDefinitionEconomyAndTrade12Venetians" TechnologyStage="TechnologyStageDefinitionEconomyAndTrade4" Category="CategoryTechnologyEconomyAndTrade" SubCategoryInQuests="TechnoMilitary" ScoreProvider="TechnologyUnlocked">
    <CustomCost ResourceName="EmpireResearch">Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCurrentCost) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostStage4Multiplier) * (1 - (Property(StockLocation,@ClassEmpire/ClassResearch , TechnologyLinkReductionValue) * Count(StockLocation, @'ClassEmpire/ClassResearch,TechnologyLinkEconomyAndTrade9To12'))) * Property(StockLocation,@'ClassEmpire/ClassResearch', TechnologyCostQuadrantEconomyAndTradeMultiplier)</CustomCost>
    <PathPrerequisite Flags="Prerequisite,Discard,DiplomaticTradable,Faction">false</PathPrerequisite>
    <SimulationDescriptorReference Name="TechnologyTrade2"/>
    <SimulationDescriptorReference Name="TechnologyTrade2Venetians"/>
    <SimulationDescriptorReference Name="TechnologyCountEconomyAndTradeIncreaseStage4"/>
    <SimulationDescriptorReference Name="TechnologyCounter"/>
    <PopulationEvent Name="PopulationPoliticalEventPacifistTechnology"/>
  </TechnologyDefinition>
</Datatable>